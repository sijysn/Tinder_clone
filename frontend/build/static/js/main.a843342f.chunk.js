(this.webpackJsonptinderui=this.webpackJsonptinderui||[]).push([[0],{151:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(18),c=n.n(r),s=n(7),o=(n(151),n(14)),i=n(24),l=n(9),u=n(227),d=n(220),j=n(92),p=n(226),b=n(216),h=n(179),m=n(219),f=n(230),x=n(232),O=n(214),g=n(176),v=n(213),y=n(229),S=n(210),w=n(1);var E=function(e){var t=e.style;return Object(w.jsx)(u.a,{textAlign:"center",m:"0 auto",style:t,children:Object(w.jsx)(S.a,{size:"3rem",color:"secondary",children:Object(w.jsx)(g.a,{component:"srOnly",children:"Loading..."})})})};var _=function(e){e=e.replace(/[/-]/g,"");var t=new Date,n=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();return Math.floor((n-e)/1e4)},I=n(8),k=n.n(I),L=n(13),N=n(15),C=n.n(N),T="CARD_LIST_REQUEST",A="CARD_LIST_SUCCESS",U="CARD_LIST_FAIL",R="CARD_LIST_RESET",D="USER_LOGIN_REQUEST",B="USER_LOGIN_SUCCESS",P="USER_LOGIN_FAIL",F="USER_LOGOUT",z="USER_REGISTER_REQUEST",W="USER_REGISTER_SUCCESS",M="USER_REGISTER_FAIL",H="USER_REGISTER_RESET",q="USER_DETAIL_REQUEST",G="USER_DETAIL_SUCCESS",Y="USER_DETAIL_FAIL",Q="USER_DETAIL_RESET",J="USER_PROFILE_UPDATE_REQUEST",K="USER_PROFILE_UPDATE_SUCCESS",V="USER_PROFILE_UPDATE_FAIL",X="USER_PROFILE_UPDATE_RESET",Z="USER_DETAILS_UPDATE_REQUEST",$="USER_DETAILS_UPDATE_SUCCESS",ee="USER_DETAILS_UPDATE_FAIL",te="USER_DETAILS_UPDATE_RESET",ne="NEW_MATCHES_LIST_REQUEST",ae="NEW_MATCHES_LIST_SUCCESS",re="NEW_MATCHES_LIST_FAIL",ce="NEW_MATCHES_LIST_RESET",se="LIKES_LIST_REQUEST",oe="LIKES_LIST_SUCCESS",ie="LIKES_LIST_FAIL",le="LIKES_LIST_RESET",ue="BLOCK_ON",de="BLOCK_OFF",je=function(){return function(){var e=Object(L.a)(k.a.mark((function e(t,n){var a,r,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:T}),a=n(),r=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("/api/users/cards/".concat(r.id,"/"),c);case 6:s=e.sent,o=s.data,t({type:A,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},pe=function(){return function(){var e=Object(L.a)(k.a.mark((function e(t,n){var a,r,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),a=n(),r=a.userLogin.userInfo,c={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("/api/users/profile/",c);case 6:s=e.sent,o=s.data,t({type:G,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Y,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},be=function(){return function(){var e=Object(L.a)(k.a.mark((function e(t,n){var a,r,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:se}),a=n(),r=a.userLogin.userInfo,c={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("/api/users/likes/".concat(r.id,"/"),c);case 6:s=e.sent,o=s.data,t({type:oe,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ie,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},he=n(212),me=Object(he.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},registerForm:{width:"100%",marginTop:e.spacing(1),overflowY:"scroll",flexWrap:"nowrap",maxHeight:"100vh",paddingBottom:"10rem"},settingsForm:{display:"block",width:"100%",marginTop:e.spacing(1),overflowY:"scroll",flexWrap:"nowrap",maxHeight:"100vh",paddingBottom:"15rem"},loginForm:{width:"100%",marginTop:e.spacing(1),overflowY:"scroll",flexWrap:"nowrap",maxHeight:"100vh",paddingBottom:"15rem"},submit:{margin:e.spacing(3,0,2)},iconLarge:{width:e.spacing(10),height:e.spacing(10)},newMatches:{display:"flex",overflowX:"auto"},cardImage:{height:"50vh"},cardContent:{padding:"0 10px 10px"},cardDetail:{padding:"10px 0 30vh",lineHeight:2,borderTop:"0.5px solid rgba(223, 224, 223, 0.3)"},matchesScreen:{overflowY:"scroll",maxHeight:"100vh",maxWidth:"768px",marginRight:"auto",marginLeft:"auto",paddingBottom:"10rem"},registerScreen:{overflowY:"scroll !important"},messageHeader:{position:"fixed",top:0,left:0,right:0,width:"100%",borderBottom:"1px solid #f6f6f6",backgroundColor:"#fff",zIndex:"1",height:"8rem"},messageHeader__icon:{height:"5rem !important",width:"5rem !important"}}}));function fe(){var e=Object(i.e)(),t=Object(i.f)(),n=me(),r=Object(a.useState)(""),c=Object(l.a)(r,2),S=c[0],I=c[1],N=Object(a.useState)(""),T=Object(l.a)(N,2),A=T[0],U=T[1],R=Object(a.useState)(""),D=Object(l.a)(R,2),P=D[0],F=D[1],q=Object(a.useState)(""),G=Object(l.a)(q,2),Y=G[0],Q=G[1],J=Object(a.useState)("Male"),K=Object(l.a)(J,2),V=K[0],X=K[1],Z=Object(a.useState)(""),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(l.a)(ne,2),re=ae[0],ce=ae[1],se=Object(s.b)(),oe=t.search?t.search.split("=")[1]:"/recs",ie=Object(s.c)((function(e){return e.userRegister})),le=ie.loading,ue=ie.error,de=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(a.useEffect)((function(){de&&e.push(oe)}),[e,de,oe]),Object(w.jsxs)(v.a,{maxWidth:"xs",className:n.registerScreen,children:[Object(w.jsx)(j.b,{}),Object(w.jsxs)(u.a,{mt:2,textAlign:"center",children:[Object(w.jsx)("img",{src:"https://cdn.worldvectorlogo.com/logos/tinder-2.svg",style:{height:"30px",width:"30px"}}),Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"})]}),re&&Object(w.jsx)(y.a,{severity:"error",children:re}),le&&Object(w.jsx)(E,{}),ue&&Object(w.jsx)(y.a,{severity:"error",children:ue}),Object(w.jsx)("form",{className:n.registerForm,onSubmit:function(e){e.preventDefault(),P!==Y?ce("Passwords do not match."):_(ee)<18?ce("People under the age of 18 are not allowed to register."):se(function(e,t,n,a,r){return function(){var c=Object(L.a)(k.a.mark((function c(s){var o,i,l,u;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:z}),o={headers:{"content-type":"application/json"}},c.next=5,C.a.post("/api/users/register/",{name:e,email:t,password:n,genderIdentity:a,birthDate:r},o);case 5:return i=c.sent,l=i.data,s({type:W,payload:l}),s({type:H}),c.next=11,C.a.post("/api/users/login/",{username:t,password:n},o);case 11:u=c.sent,s({type:B,payload:u.data}),localStorage.setItem("userInfo",JSON.stringify(l)),c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),s({type:M,payload:c.t0.response&&c.t0.response.data.detail?c.t0.response.data.detail:c.t0.message});case 19:case"end":return c.stop()}}),c,null,[[0,16]])})));return function(e){return c.apply(this,arguments)}}()}(S,A,P,V,ee))},children:Object(w.jsxs)(O.a,{container:!0,direction:"column",children:[Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"First Name",value:S,autoFocus:!0,onChange:function(e){return I(e.target.value)}})}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",type:"email",value:A,autoComplete:"email",onChange:function(e){return U(e.target.value)}})}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",value:P,autoComplete:"current-password",onChange:function(e){return F(e.target.value)}})}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm Password",type:"password",value:Y,autoComplete:"current-password",onChange:function(e){return Q(e.target.value)}})}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(h.a,{children:"Gender"}),Object(w.jsxs)(x.a,{required:!0,defaultValue:"Male","aria-label":"gender",value:V,onChange:function(e){return X(e.target.value)},children:[Object(w.jsx)(m.a,{value:"Male",control:Object(w.jsx)(f.a,{}),label:"Male"}),Object(w.jsx)(m.a,{value:"Female",control:Object(w.jsx)(f.a,{}),label:"Female"}),Object(w.jsx)(m.a,{value:"Others",control:Object(w.jsx)(f.a,{}),label:"Others"})]})]})}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Birth Date",type:"date",value:ee,InputLabelProps:{shrink:!0},onChange:function(e){return te(e.target.value)}})}),Object(w.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign Up"}),Object(w.jsx)(O.a,{item:!0,xs:12,children:Object(w.jsx)(o.b,{to:oe?"/login?redirect=".concat(oe):"/login",children:"Already have an account? Sign In"})})]})})]})}var xe=n(231);function Oe(){var e=Object(i.e)(),t=Object(i.f)(),n=me(),r=Object(a.useState)(""),c=Object(l.a)(r,2),b=c[0],h=c[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),S=x[0],_=x[1],I=Object(s.b)(),N=t.search?t.search.split("=")[1]:"/recs",T=Object(s.c)((function(e){return e.userLogin})),A=T.loading,U=T.error,R=T.userInfo;return Object(a.useEffect)((function(){R&&e.push(N)}),[e,R,N]),Object(w.jsxs)(v.a,{maxWidth:"xs",children:[Object(w.jsx)(j.b,{}),Object(w.jsxs)(u.a,{className:n.paper,children:[Object(w.jsx)("img",{src:"https://cdn.worldvectorlogo.com/logos/tinder-2.svg",style:{height:"30px",width:"30px"}}),Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"}),A&&Object(w.jsx)(u.a,{mt:2,children:Object(w.jsx)(E,{mt:10})}),U&&Object(w.jsx)(u.a,{mt:2,children:Object(w.jsx)(y.a,{severity:"error",children:U})}),Object(w.jsxs)("form",{className:n.loginForm,noValidate:!0,onSubmit:function(e){e.preventDefault(),I(function(e,t){return function(){var n=Object(L.a)(k.a.mark((function n(a){var r,c,s;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:D}),r={headers:{"content-type":"application/json"}},n.next=5,C.a.post("/api/users/login/",{username:e,password:t},r);case 5:c=n.sent,s=c.data,a({type:B,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:P,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(b,S))},children:[Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",type:"email",value:b,autoComplete:"email",autoFocus:!0,onChange:function(e){return h(e.target.value)}}),Object(w.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",value:S,autoComplete:"current-password",onChange:function(e){return _(e.target.value)}}),Object(w.jsx)(m.a,{control:Object(w.jsx)(xe.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(w.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:n.submit,children:"Sign In"}),Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(o.b,{to:N?"/register?redirect=".concat(N):"/register",children:"Don't have an account? Sign Up"})})})]})]})]})}var ge=n(225),ve=n(76),ye=n.n(ve),Se=n(108),we=n.n(Se),Ee=n(107),_e=n.n(Ee),Ie=n(178),ke=function(e){var t=e.recs,n=e.goldHome,a=e.matches,r=e.profile;return Object(w.jsx)(u.a,{className:"common-header",children:Object(w.jsxs)(u.a,{className:"common-header__icons-container max-width",children:[Object(w.jsx)(o.b,{to:"/recs",children:Object(w.jsx)(Ie.a,{disabled:!0,className:"common-header__icon",children:Object(w.jsx)("img",{className:"common-header__logo",src:"https://cdn.worldvectorlogo.com/logos/tinder-2.svg",alt:"tinder logo",style:t?null:{filter:"grayscale(100%)"}})})}),Object(w.jsx)(o.b,{to:"/gold-home",children:Object(w.jsx)(Ie.a,{className:"common-header__icon",children:Object(w.jsx)(_e.a,{fontSize:"large",style:n&&{color:"#FF5864"}})})}),Object(w.jsx)(o.b,{to:"/matches",children:Object(w.jsx)(Ie.a,{className:"common-header__icon",children:Object(w.jsx)(we.a,{fontSize:"large",style:a&&{color:"#FF5864"}})})}),Object(w.jsx)(o.b,{to:"/profile",children:Object(w.jsx)(Ie.a,{className:"common-header__icon",children:Object(w.jsx)(ye.a,{fontSize:"large",style:r&&{color:"#FF5864"}})})})]})})},Le=n(77),Ne=n.n(Le),Ce=n(78),Te=n.n(Ce),Ae=n(221),Ue=n(223),Re=n(224),De=n(222),Be=function(){var e=Object(L.a)(k.a.mark((function e(t,n,a){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/api/reactions/".concat(n,"/").concat(t,"/"),a);case 2:if("L"!==e.sent.data.status){e.next=8;break}return e.next=6,C.a.post("/api/chatroomusers/register/",{user1Id:t,user2Id:n},a);case 6:r=e.sent,r.data;case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Pe=function(){return function(e){e({type:ue})}},Fe=function(){return function(e){e({type:de})}},ze=function(e){var t,n,r,c,o,i,d=e.person,j=e.className,p=e.cardIsEmpty,b=me(),h=Object(a.useState)(!1),m=Object(l.a)(h,2),f=m[0],x=m[1],v=d.birth_date?_(d.birth_date):"-",y=Object(s.c)((function(e){return e.isBlocked})),S=Object(s.c)((function(e){return e.userLogin})).userInfo,E=Object(s.b)(),I={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(S.token)}},N=Object(a.useState)(),T=Object(l.a)(N,2),A=T[0],U=T[1],R=Object(a.useState)(),D=Object(l.a)(R,2),B=D[0],P=D[1],F=Object(a.useState)(),z=Object(l.a)(F,2),W=z[0],M=z[1],H=Object(a.useState)(),q=Object(l.a)(H,2),G=q[0],Y=q[1],Q=Object(a.useCallback)((function(e){if(E(Pe()),A.classList.add("drag"),"mousedown"===e.type)var a=e;else a=e.changedTouches[0];t=a.pageX,n=a.pageY,document.body.addEventListener("mousemove",J,!1),document.body.addEventListener("touchmove",J,!1)}),[E,A]),J=Object(a.useCallback)((function(e){if("mousemove"===e.type)var a=e;else a=e.changedTouches[0];c=a.pageY,r=a.pageX,o=r-t,i=c-n,A.style.top=i+"px",A.style.left=o+"px";var s=o/10;A.style.transform="rotate(".concat(s,"deg)"),o>=0?W.style.opacity=o/100:G.style.opacity=-o/100,A.addEventListener("mouseup",K,!1),document.body.addEventListener("mouseleave",K,!1),A.addEventListener("touchend",K,!1),document.body.addEventListener("touchleave",K,!1)}),[A,W,G]),K=Object(a.useCallback)(Object(L.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.abs(o)<75&&Math.abs(i)<75)){e.next=9;break}A.style.left=0,A.style.top=0,A.style.transform="rotate(0)",W.style.opacity=0,G.style.opacity=0,E(Fe()),e.next=20;break;case 9:return o>=75?(A.style.left="150%",t="like"):o<=-75?(A.style.left="-150%",t="nope"):o>0&&Math.abs(i)>=75?(A.style.left="150%",t="like"):o<0&&Math.abs(i)>=75&&(A.style.left="-150%",t="nope"),document.body.removeEventListener("mousemove",J,!1),A.removeEventListener("mouseup",K,!1),document.body.removeEventListener("touchmove",J,!1),A.removeEventListener("touchend",K,!1),A.classList.remove("drag"),setTimeout((function(){return A.remove()}),200),e.next=18,C.a.post("/api/reactions/swipe/",{fromUserId:S.id,toUserId:Number(A.id),status:"like"===t?"L":"N"},I);case 18:"like"===t&&Be(S.id,A.id,I),null===B?(setTimeout((function(){return p()}),200),E(Pe())):setTimeout((function(){return E(Fe())}),500);case 20:case"end":return e.stop()}}),e)}))),[E,A]);return Object(a.useEffect)((function(){U(document.getElementById(d.id)),P(document.getElementById(d.id).nextElementSibling),M(document.getElementById(d.id).firstChild.nextElementSibling),Y(document.getElementById(d.id).firstChild.nextElementSibling.nextElementSibling)}),[]),Object(a.useEffect)((function(){A&&(f&&(document.body.removeEventListener("mousemove",J,!1),document.body.removeEventListener("touchmove",J,!1),document.body.removeEventListener("mouseleave",K,!1),document.body.removeEventListener("touchleave",K,!1)),y&&(A.removeEventListener("mousedown",Q,!1),A.removeEventListener("touchstart",Q,!1)),y||f||(A.addEventListener("mousedown",Q,!1),A.addEventListener("touchstart",Q,!1)))}),[A,y,f,Q,J,Q]),Object(w.jsxs)(Ae.a,{className:j,id:d.id,children:[Object(w.jsx)(De.a,{image:d.image?d.image:"unknown_ffqtxf",className:b.cardImage,title:"profile photo"}),Object(w.jsx)(g.a,{component:"span",variant:"h3",className:"card__like",children:"LIKE"}),Object(w.jsx)(g.a,{component:"span",variant:"h3",className:"card__nope",children:"NOPE"}),Object(w.jsx)(Ue.a,{onClick:function(){y||f||(x(!0),E(Pe()))},children:Object(w.jsxs)(Re.a,{className:b.cardContent,children:[Object(w.jsxs)(g.a,{component:"h1",variant:"h3",gutterBottom:!0,children:[Object(w.jsx)("strong",{children:d.first_name})," ",Object(w.jsx)(g.a,{component:"span",variant:"h4",children:v})]}),Object(w.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(w.jsx)(O.a,{item:!0,xs:6,children:d.profession&&Object(w.jsxs)(g.a,{component:"h2",variant:"h6",gutterBottom:!0,children:[Object(w.jsx)("i",{className:"fas fa-graduation-cap"})," ",d.profession]})}),Object(w.jsx)(O.a,{item:!0,xs:6,children:Object(w.jsx)(u.a,{textAlign:"right",children:f?Object(w.jsx)(Ie.a,{style:{backgroundColor:"#f50057"},component:"span",onClick:function(e){return function(e){y||f&&(x(!1),e.stopPropagation())}(e)},children:Object(w.jsx)(Ne.a,{style:{color:"#fff"},fontSize:"large"})}):Object(w.jsx)(Ie.a,{component:"span",children:Object(w.jsx)(Te.a,{fontSize:"large"})})})})]}),f&&Object(w.jsx)(u.a,{mt:1,children:Object(w.jsx)(g.a,{component:"p",variant:"h5",color:"textSecondary",className:b.cardDetail,children:d.self_introduction})})]})})]})},We=function(){return Object(w.jsx)(u.a,{className:"empty",children:Object(w.jsxs)(u.a,{className:"empty__circle-container",children:[Object(w.jsx)(u.a,{className:"empty__circle"}),Object(w.jsx)(u.a,{className:"empty__circle empty__circle_delay"}),Object(w.jsx)(ye.a,{})]})})},Me=function(e){var t=e.cardIsEmpty,n=Object(s.b)(),r=Object(s.c)((function(e){return e.cardList})),c=r.loading,o=r.error,i=r.cards,l=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(a.useEffect)((function(){l&&n(je())}),[n,l]),Object(a.useEffect)((function(){!1===c&&i&&0===i.length&&t()}),[i,t]),Object(w.jsx)(u.a,{children:c?Object(w.jsx)(We,{}):o?Object(w.jsx)(y.a,{severity:"error",children:o}):i&&Object(w.jsx)(u.a,{className:"cards",children:i.map((function(e){return Object(w.jsx)(ze,{person:e,className:"card",cardIsEmpty:t},e.id)}))})})},He=n(109),qe=n.n(He),Ge=n(110),Ye=n.n(Ge),Qe=n(111),Je=n.n(Qe),Ke=n(65),Ve=n.n(Ke),Xe=n(112),Ze=n.n(Xe),$e=function(e){var t=e.cardIsEmpty,n=Object(s.b)(),r=Object(s.c)((function(e){return e.cardList})),c=r.loading,o=r.cards,i=Object(s.c)((function(e){return e.userLogin})).userInfo,l={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},d=Object(s.c)((function(e){return e.isBlocked}));Object(a.useEffect)((function(){!1===c&&o&&o.length>0&&n(Fe())}),[n,c]);var j=function(){var e=Object(L.a)(k.a.mark((function e(a){var r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return r=document.getElementsByClassName("card")[0],c=document.getElementsByClassName("card")[1],n(Pe()),document.getElementsByClassName("card__".concat(a))[0].style.opacity=1,setTimeout((function(){return r.classList.add(a)}),100),setTimeout((function(){return r.remove()}),600),e.next=10,C.a.post("/api/reactions/swipe/",{fromUserId:i.id,toUserId:Number(r.id),status:"like"===a?"L":"N"},l);case 10:"like"===a&&Be(i.id,r.id,l),void 0===c?(setTimeout((function(){return t()}),600),n(Pe())):setTimeout((function(){return n(Fe())}),600);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(u.a,{className:"swipe-btns__container",children:Object(w.jsxs)(u.a,{className:"swipe-btns max-width",children:[Object(w.jsx)(Ie.a,{className:"swipe-btns__back",disabled:d,children:Object(w.jsx)(qe.a,{fontSize:"large"})}),Object(w.jsx)(Ie.a,{className:"swipe-btns__dislike",disabled:d,onClick:function(){j("nope")},children:Object(w.jsx)(Ye.a,{fontSize:"large"})}),Object(w.jsx)(Ie.a,{className:"swipe-btns__super-like",disabled:d,children:Object(w.jsx)(Je.a,{fontSize:"large"})}),Object(w.jsx)(Ie.a,{className:"swipe-btns__like",disabled:d,onClick:function(){j("like")},children:Object(w.jsx)(Ve.a,{fontSize:"large"})}),Object(w.jsx)(Ie.a,{className:"swipe-btns__boost",disabled:d,children:Object(w.jsx)(Ze.a,{fontSize:"large"})})]})})},et=function(){var e=Object(i.e)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],o=function(){return c(!0)},d=Object(s.c)((function(e){return e.userLogin})).userInfo,j=Object(s.c)((function(e){return e.userDetails})).user,p=Object(s.b)();return Object(a.useEffect)((function(){d?j||p(pe()):e.push("/login")}),[e,d,j]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(ke,{recs:!0}),Object(w.jsxs)(ge.a,{children:[r?Object(w.jsx)(We,{}):Object(w.jsx)(Me,{cardIsEmpty:o}),Object(w.jsx)($e,{cardIsEmpty:o})]})]})};var tt=function(e){var t=e.image;return Object(w.jsx)(Ae.a,{style:{width:"100%",borderRadius:"10px"},children:Object(w.jsxs)(Ue.a,{style:{position:"relative"},children:[Object(w.jsx)(De.a,{image:t||"unknown_ffqtxf",style:{width:"100%",height:"60vw",filter:"blur(10px)"},title:"Profile Photo"}),Object(w.jsx)(u.a,{component:"h3",position:"absolute",left:"1rem",bottom:"1rem",width:"60%",height:"0.8rem",borderRadius:"10px",style:{backgroundColor:"#fff",opacity:"0.3"}}),Object(w.jsx)(u.a,{component:"p",position:"absolute",left:"1rem",bottom:"0",width:"50%",height:"0.8rem",opacity:"0.3",borderRadius:"10px",style:{backgroundColor:"#000",opacity:"0.3"}})]})})};var nt=function(){var e=Object(i.e)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.likesList})),r=n.loading,c=n.error,o=n.likes,l=Object(s.b)();return Object(a.useEffect)((function(){t?l(be()):e.push("/login")}),[l,e,t]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(ke,{goldHome:!0}),r?Object(w.jsx)(E,{}):c?Object(w.jsx)(y.a,{severity:"error",children:c}):o&&Object(w.jsxs)(u.a,{mx:1,maxHeight:"100vh",p:"0 1rem 10rem",style:{overflowY:"scroll",flexWrap:"nowrap"},className:"max-width",children:[Object(w.jsx)(g.a,{component:"h1",variant:"h4",style:{borderBottom:"1px solid #dfe0df",padding:"10px"},paragraph:!0,children:Object(w.jsxs)("strong",{children:["  ",1===o.length?"".concat(o.length," Like"):o.length>1?"".concat(o.length," Likes"):"No New Likes"]})}),o.length>0&&Object(w.jsxs)(g.a,{component:"h2",variant:"h5",color:"textSecondary",align:"center",paragraph:!0,children:["Upgrade to Gold to see people",Object(w.jsx)("br",{}),"who already liked you."]}),Object(w.jsxs)(O.a,{container:!0,spacing:1,justify:"space-evenly",className:"max-width",children:[o.length>=1&&Object(w.jsx)(O.a,{item:!0,xs:6,children:Object(w.jsx)(tt,{image:o[0].image})}),o.length>=1&&Object(w.jsx)(O.a,{item:!0,xs:6,children:o.length>=2&&Object(w.jsx)(tt,{image:o[1].image})}),o.length>=3&&Object(w.jsx)(O.a,{item:!0,xs:6,children:Object(w.jsx)(tt,{image:o[2].image})}),o.length>=3&&Object(w.jsx)(O.a,{item:!0,xs:6,children:o.length>=4&&Object(w.jsx)(tt,{image:o[3].image})}),o.length>=5&&Object(w.jsx)(O.a,{item:!0,xs:6,children:Object(w.jsx)(tt,{image:o[4].image})}),o.length>=5&&Object(w.jsx)(O.a,{item:!0,xs:6,children:o.length>=6&&Object(w.jsx)(tt,{image:o[5].image})})]})]})]})},at=n(233),rt=Object(he.a)((function(e){return{iconLarge:{width:e.spacing(10),height:e.spacing(10)}}}));var ct=function(e){var t=e.person,n=rt();return Object(w.jsxs)(u.a,{textAlign:"center",mx:1,children:[Object(w.jsx)(at.a,{src:t.image,alt:"new match",className:n.iconLarge}),Object(w.jsx)(g.a,{component:"span",variant:"h5",children:t.first_name})]})},st=Object(he.a)((function(e){return{iconLarge:{width:e.spacing(9),height:e.spacing(9)},tinderGoldIconBack:{width:e.spacing(10),height:e.spacing(10),borderRadius:"50%",backgroundColor:"#e4c478"},newMatches:{display:"flex",overflowX:"auto"}}}));var ot=function(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.c)((function(e){return e.likesList})).likes,n=Object(s.c)((function(e){return e.newMatchesList})),r=n.loading,c=n.error,i=n.matches,l=Object(s.b)();Object(a.useEffect)((function(){e&&(l(be()),l(function(){var e=Object(L.a)(k.a.mark((function e(t,n){var a,r,c,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ne}),a=n(),r=a.userLogin.userInfo,c={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,C.a.get("/api/users/newmatches/".concat(r.id,"/"),c);case 6:s=e.sent,t({type:ae,payload:s.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:re,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))}),[l,e]);var d=st();return Object(w.jsx)(u.a,{className:d.newMatches,children:r?Object(w.jsx)(E,{}):c?Object(w.jsx)(y.a,{severity:"error",children:c}):Object(w.jsxs)(u.a,{display:"flex",flexDirection:"row",children:[t&&t.length>0&&Object(w.jsx)(o.b,{to:"/gold-home",children:Object(w.jsxs)(u.a,{textAlign:"center",mx:1,children:[Object(w.jsx)(u.a,{display:"flex",alignItems:"center",justifyContent:"center",className:"".concat(d.tinderGoldIconBack," tinder-gold"),children:Object(w.jsx)(at.a,{src:t[0].image,alt:"new match",className:d.iconLarge})}),Object(w.jsx)(g.a,{component:"span",variant:"h5",children:1===t.length?"".concat(t.length," Like"):t.length>1&&"".concat(t.length," Likes")})]})}),i&&i.length>0&&i.map((function(e){return Object(w.jsx)(o.b,{to:"/messages/".concat(e.id),children:Object(w.jsx)(ct,{person:e})},e.id)}))]})})},it=n(113),lt=n(114),ut=n.n(lt),dt=Object(he.a)((function(e){return{iconLarge:{width:e.spacing(10),height:e.spacing(10)}}}));var jt=function(e){var t=e.item,n=dt(),r=Object(a.useState)(),c=Object(l.a)(r,2),o=c[0],i=c[1],d=Object(s.c)((function(e){return e.userLogin})).userInfo,j={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(d.token)}};return Object(a.useEffect)(Object(L.a)(k.a.mark((function e(){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.a.get(t.user_id==d.id?"/api/users/chatuser/".concat(d.id,"/").concat(t.chat_room_id,"/"):"/api/users/cards/id/".concat(t.user_id,"/"),j);case 4:n=e.sent,a=n.data,i(a);case 7:case"end":return e.stop()}}),e)}))),[d]),o?Object(w.jsx)(it.a,{to:"/messages/".concat(o.id,"#latest_message"),children:Object(w.jsxs)(u.a,{display:"flex",flexDirection:"row",p:1,borderBottom:"1px solid #dfe0df",alignItems:"center",children:[Object(w.jsx)(at.a,{src:o.image,alt:"Profile Photo",className:n.iconLarge}),Object(w.jsxs)(u.a,{p:2,minWidth:"0",children:[Object(w.jsx)(g.a,{component:"h2",variant:"h5",children:Object(w.jsx)("strong",{children:o.first_name})}),Object(w.jsx)(g.a,{component:"p",variant:"h5",color:t.read||t.user_id==d.id?"textSecondary":"textPrimary",children:Object(w.jsxs)(u.a,{component:"span",display:"flex",justifyContent:"flex-start",children:[Object(w.jsx)(u.a,{component:"span",children:t.user_id==d.id&&Object(w.jsx)(ut.a,{})}),Object(w.jsx)(u.a,{component:"span",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:t.text})]})})]})]})}):Object(w.jsx)(E,{})};var pt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(s.c)((function(e){return e.userLogin})).userInfo,p={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(j.token)}};return Object(a.useEffect)((function(){var e=!0;d(!0);var t=function(){var e=Object(L.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/api/messages/latest/".concat(j.id,"/"),p);case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function n(){t(),d(!1),e&&setTimeout(n,5e3)}(),function(){e=!1}}),[]),Object(w.jsx)(u.a,{children:i?Object(w.jsx)(E,{}):Object(w.jsx)(u.a,{children:n.length>0&&n.map((function(e){return Object(w.jsx)(jt,{item:e},e.id)}))})})};var bt=function(){var e=Object(i.e)(),t=me(),n=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(a.useEffect)((function(){n||e.push("/login")}),[e,n]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(ke,{matches:!0}),Object(w.jsx)(u.a,{className:t.matchesScreen,children:Object(w.jsxs)(ge.a,{children:[Object(w.jsxs)(u.a,{color:"#FF5864",mx:1,children:[Object(w.jsx)(g.a,{component:"h1",variant:"h5",paragraph:!0,children:Object(w.jsx)("strong",{children:"New Matches"})}),Object(w.jsx)(ot,{})]}),Object(w.jsxs)(u.a,{mt:3,color:"#FF5864",mx:1,children:[Object(w.jsx)(g.a,{component:"h1",variant:"h5",gutterBottom:!0,children:Object(w.jsx)("strong",{children:"Messages"})}),Object(w.jsx)(pt,{})]})]})})]})},ht=n(121),mt=n.n(ht),ft=n(115),xt=n.n(ft),Ot=n(116),gt=n.n(Ot);var vt=function(e){var t=e.chatUserInfo,n=me();return Object(w.jsx)(O.a,{container:!0,className:n.messageHeader,alignItems:"center",children:Object(w.jsxs)(O.a,{item:!0,container:!0,direction:"row",justify:"space-between",children:[Object(w.jsx)(O.a,{item:!0,xs:3,sm:3,children:Object(w.jsx)(u.a,{textAlign:"left",children:Object(w.jsx)(o.b,{to:"/matches",children:Object(w.jsx)(Ie.a,{className:n.messageHeader__icon,children:Object(w.jsx)(xt.a,{fontSize:"large"})})})})}),Object(w.jsx)(O.a,{item:!0,xs:6,sm:6,children:t&&Object(w.jsx)(o.b,{to:"/messages/".concat(t.id,"/profile"),children:Object(w.jsxs)(O.a,{container:!0,ction:"row",justify:"center",alignItems:"center",children:[Object(w.jsx)(at.a,{src:t.image,alt:"Profile Photo",className:n.messageHeader__icon}),Object(w.jsx)(u.a,{pl:2,children:Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:t.first_name?t.first_name:"No User"})})]})})}),Object(w.jsx)(O.a,{item:!0,xs:3,sm:3,children:Object(w.jsx)(u.a,{textAlign:"right",children:Object(w.jsx)(Ie.a,{children:Object(w.jsx)(gt.a,{fontSize:"large"})})})})]})})},yt=n(181),St=n(117),wt=n.n(St),Et=n(118),_t=n.n(Et),It=n(119),kt=n.n(It),Lt=n(120),Nt=n.n(Lt);var Ct=function(e){var t=e.chatUserId,n=e.setMessages,r=Object(a.useState)(""),c=Object(l.a)(r,2),o=c[0],i=c[1],j=Object(s.c)((function(e){return e.userLogin})).userInfo,p={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(j.token)}},b=function(){var e=Object(L.a)(k.a.mark((function e(a){var r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,C.a.post("/api/messages/send/",{fromUserId:j.id,toUserId:t,text:o},p);case 3:r=e.sent,c=r.data,n(c),i("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(u.a,{className:"message-footer",children:Object(w.jsxs)(u.a,{width:"100%",children:[Object(w.jsx)(u.a,{borderTop:"1px solid #dddddd",borderBottom:"1px solid #dddddd",padding:"1rem",width:"100%",children:Object(w.jsx)("form",{onSubmit:b,style:{width:"100%",paddingLeft:"4px",paddingRight:"4px"},children:Object(w.jsxs)(u.a,{display:"flex",width:"100%",maxHeight:"10rem",children:[Object(w.jsx)(u.a,{display:"flex",justifyContent:"flex-start",width:"100%",children:Object(w.jsx)(yt.a,{fullWidth:!0,multiline:!0,rowsMax:6,value:o,placeholder:"Type a message",onChange:function(e){return i(e.target.value)},style:{fontSize:"1.5rem"}})}),Object(w.jsx)(u.a,{display:"flex",justifyContent:"flex-end",children:Object(w.jsx)(d.a,{type:"submit",color:"primary",disabled:!o||!o.match(/\S/g),children:Object(w.jsx)(g.a,{component:"span",variant:"h5",children:"SEND"})})})]})})}),Object(w.jsx)(u.a,{width:"100%",children:Object(w.jsxs)(u.a,{width:"100%",padding:"1rem",children:[Object(w.jsx)(Ie.a,{className:"btn-box-shadow",children:Object(w.jsx)(wt.a,{fontSize:"large",color:"primary"})}),Object(w.jsx)(Ie.a,{className:"btn-box-shadow",children:Object(w.jsx)(_t.a,{fontSize:"large",style:{color:"#ffcc29"}})}),Object(w.jsx)(Ie.a,{className:"btn-box-shadow",children:Object(w.jsx)(kt.a,{fontSize:"large",color:"primary"})}),Object(w.jsx)(Ie.a,{className:"btn-box-shadow",children:Object(w.jsx)(Nt.a,{fontSize:"large",style:{color:"#2ec1ac"}})})]})})]})})};var Tt=function(e){var t=e.bgColor,n=e.color,a=e.text;return Object(w.jsx)(u.a,{style:{backgroundColor:"".concat(t),borderRadius:"0.5rem",padding:"0.5rem 1rem",minWidth:0},children:Object(w.jsx)(u.a,{textAlign:"center",children:Object(w.jsx)(g.a,{component:"p",variant:"h5",align:"left",style:{color:"".concat(n),overflowWrap:"break-word"},children:a})})})};function At(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(L.a)(k.a.mark((function e(t,n){var a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=3,C.a.get("/api/users/cards/id/".concat(n,"/"),a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(L.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=3,C.a.put("/api/messages/good/update/".concat(t,"/"),{},a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(L.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=3,C.a.get("/api/messages/".concat(t.id,"/").concat(n,"/"),a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t){return zt.apply(this,arguments)}function zt(){return(zt=Object(L.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=3,C.a.put("/api/messages/read/",{messages:JSON.stringify(t),fromUserId:n.id},a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wt=function(){var e=Object(i.e)(),t=Object(i.g)().id,n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],o=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),p=j[0],b=(j[1],Object(s.c)((function(e){return e.userLogin})).userInfo),h=Object(a.useState)([]),m=Object(l.a)(h,2),f=m[0],x=m[1],g=("Bearer ".concat(b.token),function(){var e=Object(L.a)(k.a.mark((function e(n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(n.id,b);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Bt(b,t);case 7:a=e.sent,x(a.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(a.useEffect)(Object(L.a)(k.a.mark((function n(){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b||e.push("/login"),c){n.next=7;break}return n.t0=o,n.next=5,At(b,t);case 5:n.t1=n.sent,(0,n.t0)(n.t1);case 7:return n.next=9,Bt(b,t);case 9:a=n.sent,x(a.data),Ft(a.data,b);case 12:case"end":return n.stop()}}),n)}))),[e,b,c]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(vt,{chatUserInfo:c&&c}),p?Object(w.jsx)(E,{style:{marginTop:"50vh"}}):Object(w.jsxs)(O.a,{container:!0,direction:"column",spacing:1,style:{overflowY:"scroll",maxHeight:"100vh",padding:"9rem 1rem 20rem",flexWrap:"nowrap",zIndex:"-1"},className:"max-width",children:[f.length>0?f.map((function(e){return Object(w.jsx)(O.a,{item:!0,style:{position:"relative",width:"100%"},children:e.user_id==t?Object(w.jsxs)(u.a,{display:"flex",justifyContent:"flex-start",mr:5,children:[Object(w.jsx)(at.a,{src:c?c.image:"unknown_ffqtxf",alt:"Profile Photo",style:{height:"3rem",width:"3rem",marginRight:"1rem"}}),Object(w.jsx)(Tt,{bgColor:"#dddddd",color:"#000",text:e.text}),Object(w.jsx)(u.a,{position:"absolute",right:"1rem",top:"50%",style:{transform:"translateY(-50%)"},children:e.good?Object(w.jsx)(Ve.a,{onClick:function(){return g(e)},style:{color:"#f50057"}}):Object(w.jsx)(mt.a,{onClick:function(){return g(e)}})})]}):Object(w.jsxs)(u.a,{display:"flex",justifyContent:"flex-end",ml:5,children:[e.good&&Object(w.jsx)(Ve.a,{fontSize:"small",style:{color:"#f50057"}}),Object(w.jsx)(Tt,{bgColor:"#46b3e6",color:"#fff",text:e.text})]})},e.id)})):Object(w.jsx)(u.a,{children:Object(w.jsx)(u.a,{height:"100vh"})}),Object(w.jsx)(u.a,{id:"latest_message",visibility:"hidden",children:"latest message"})]}),Object(w.jsx)(Ct,{chatUserId:t,setMessages:x})]})},Mt=Object(he.a)((function(e){return{paper:{marginTop:e.spacing(1)},done:{textAlign:"center",color:"#FF5864"}}}));var Ht=function(e){var t=e.title,n=e.backTo,a=Mt();return Object(w.jsxs)(v.a,{className:a.paper,children:[Object(w.jsx)(j.b,{}),Object(w.jsxs)(O.a,{container:!0,justify:"center",alignItems:"center",className:"max-width",children:[Object(w.jsx)(O.a,{item:!0,xs:2}),Object(w.jsx)(O.a,{item:!0,xs:8,children:Object(w.jsx)(g.a,{component:"h1",variant:"h4",children:Object(w.jsx)(u.a,{textAlign:"center",children:t})})}),Object(w.jsx)(O.a,{item:!0,xs:2,children:Object(w.jsx)(o.b,{to:n,children:Object(w.jsx)(g.a,{component:"h2",variant:"h5",className:a.done,children:"Done"})})})]})]})};var qt=function(e){var t=e.person,n=e.className,r=me(),c=Object(a.useState)(!1),s=Object(l.a)(c,2),o=s[0],i=s[1],d=t.birth_date?_(t.birth_date):"-";return Object(w.jsxs)(Ae.a,{className:n,children:[Object(w.jsx)(De.a,{image:t.image?t.image:"https://res.cloudinary.com/dfw3mlaic/image/upload/v1/images/unknown_ffqtxf",className:r.cardImage,title:"profile photo"}),Object(w.jsx)(Ue.a,{onClick:function(){o||i(!0)},children:Object(w.jsxs)(Re.a,{className:r.cardContent,children:[Object(w.jsxs)(g.a,{component:"h1",variant:"h3",gutterBottom:!0,children:[Object(w.jsx)("strong",{children:t.first_name})," ",Object(w.jsx)(g.a,{component:"span",variant:"h4",children:d})]}),Object(w.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(w.jsx)(O.a,{item:!0,xs:6,children:t.profession&&Object(w.jsxs)(g.a,{component:"h2",variant:"h6",gutterBottom:!0,children:[Object(w.jsx)("i",{className:"fas fa-graduation-cap"})," ",t.profession]})}),Object(w.jsx)(O.a,{item:!0,xs:6,children:Object(w.jsx)(u.a,{textAlign:"right",children:o?Object(w.jsx)(Ie.a,{style:{backgroundColor:"#f50057"},component:"span",onClick:function(e){return function(e){o&&(i(!1),e.stopPropagation())}(e)},children:Object(w.jsx)(Ne.a,{style:{color:"#fff"},fontSize:"large"})}):Object(w.jsx)(Ie.a,{component:"span",children:Object(w.jsx)(Te.a,{fontSize:"large"})})})})]}),o&&Object(w.jsx)(u.a,{mt:1,children:Object(w.jsx)(g.a,{id:"self-introduction",component:"p",variant:"h5",color:"textSecondary",className:r.cardDetail,children:t.self_introduction})})]})})]})};var Gt=function(){var e=Object(i.e)(),t=Object(i.g)().id,n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],o=r[1],d=Object(s.c)((function(e){return e.userLogin})).userInfo,p={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(d.token)}};return Object(a.useEffect)(Object(L.a)(k.a.mark((function n(){var a,r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d){n.next=4;break}e.push("/login"),n.next=9;break;case 4:return n.next=6,C.a.get("/api/users/cards/id/".concat(t,"/"),p);case 6:a=n.sent,r=a.data,o(r);case 9:case"end":return n.stop()}}),n)}))),[e,d]),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(j.b,{}),Object(w.jsx)(u.a,{my:1,children:Object(w.jsx)(Ht,{title:"PREVIEW",backTo:"/messages/".concat(t)})}),Object(w.jsx)(qt,{person:c||{first_name:"No User"},className:"card__preview"})]})},Yt=n(122),Qt=n.n(Yt),Jt=n(123),Kt=n.n(Jt),Vt=n(125),Xt=n.n(Vt),Zt=n(124),$t=n.n(Zt);var en=function(e){var t=e.to,n=e.className,a=e.color,r=e.title,c=e.children;return Object(w.jsxs)(o.b,{to:t,children:[Object(w.jsx)(Ie.a,{className:n&&n,color:a||"default",style:{boxShadow:"0 1px 4px 1px rgba(223, 224, 223, 0.7)"},children:c}),Object(w.jsx)(g.a,{component:"span",variant:"button",display:"block",children:r})]})};var tn=function(){var e=Object(i.e)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],d=Object(s.c)((function(e){return e.userLogin})).userInfo,j=Object(s.c)((function(e){return e.userDetails})),p=j.loading,b=j.error,h=j.user,m=Object(s.b)(),f=Object(he.a)((function(e){return{profilePhoto:{width:e.spacing(10),height:e.spacing(10),boxShadow:"0 1px 4px 1px rgba(223, 224, 223, 0.7)"}}}))();return Object(a.useEffect)((function(){d?h?c(_(h.birth_date)):m(pe(d.id)):e.push("/login")}),[e,d,h]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(ke,{profile:!0}),p?Object(w.jsx)(E,{}):b?Object(w.jsx)(y.a,{severity:"error",children:b}):h&&Object(w.jsx)(ge.a,{children:Object(w.jsxs)(v.a,{maxWidth:"sm",children:[Object(w.jsxs)(u.a,{textAlign:"center",mt:10,mb:5,children:[Object(w.jsx)(o.b,{to:"/profile/preview",children:Object(w.jsx)(Ie.a,{children:Object(w.jsx)(at.a,{src:h.image,alt:"Profile Photo",className:f.profilePhoto})})}),Object(w.jsxs)(g.a,{component:"h1",variant:"h4",gutterBottom:!0,children:[h.first_name," ",r]}),Object(w.jsx)(g.a,{component:"span",variant:"h6",children:h.profession})]}),Object(w.jsx)(u.a,{textAlign:"center",children:Object(w.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(w.jsx)(O.a,{item:!0,xs:4,children:Object(w.jsx)(en,{to:"/settings",title:"SETTINGS",children:Object(w.jsx)(Qt.a,{fontSize:"large"})})}),Object(w.jsx)(O.a,{item:!0,xs:4,children:Object(w.jsxs)(en,{to:"/profile/edit",className:"profile__camera-wrapper",color:"secondary",title:"ADD MEDIA",children:[Object(w.jsx)(Kt.a,{fontSize:"large",style:{color:"#fff"}}),Object(w.jsx)($t.a,{fontSize:"small",className:"profile__camera-add",style:{backgroundColor:"#fff",color:"#f50057",borderRadius:"50%"}})]})}),Object(w.jsx)(O.a,{item:!0,xs:4,children:Object(w.jsx)(en,{to:"/profile/edit",title:"EDIT INFO",children:Object(w.jsx)(Xt.a,{fontSize:"large"})})})]})})]})})]})};var nn=function(){var e=Object(i.e)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.userDetails})),r=n.loading,c=n.error,o=n.user,l=Object(s.b)();return Object(a.useEffect)((function(){t?o||l(pe()):e.push("/login")}),[l,e,t,o]),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(j.b,{}),Object(w.jsx)(u.a,{my:1,children:Object(w.jsx)(Ht,{title:"PREVIEW",backTo:"/profile"})}),r?Object(w.jsx)(E,{}):c?Object(w.jsx)(y.a,{severity:"error",children:c}):o&&Object(w.jsx)(qt,{person:o,className:"card__preview"})]})},an=n(66),rn=n(228),cn=n(215),sn=n(217),on=n(126),ln=n.n(on);var un=function(){var e=Object(a.useState)("unknown_ffqtxf"),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(!1),p=Object(l.a)(j,2),b=p[0],h=p[1],m=Object(s.b)(),f=Object(s.c)((function(e){return e.userLogin})).userInfo,x=Object(s.c)((function(e){return e.userDetails})).user,g=function(){var e=Object(L.a)(k.a.mark((function e(t){var n,a,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),n=t.target.files[0],(a=new FormData).append("image",n),a.append("user_id",f.id),e.prev=5,c={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(f.token)}},e.next=9,C.a.post("/api/users/profile/image/upload/",a,c);case 9:s=e.sent,o=s.data,r(o.image),h(!1),m({type:G,payload:o}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),d(e.t0),h(!1);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r(x.image)}),[x]),Object(w.jsxs)(u.a,{children:[i&&Object(w.jsx)(y.a,{severity:"error",children:i}),b?Object(w.jsx)(E,{}):Object(w.jsx)(De.a,{image:n||"unknown_ffqtxf",title:"Profile Photo",style:{position:"relative",height:"0",paddingTop:"56.25%",margin:"0 auto"},children:Object(w.jsx)(O.a,{container:!0,alignItems:"center",justify:"flex-end",style:{position:"absolute",bottom:"0",right:"0"},children:Object(w.jsx)(u.a,{m:2,children:Object(w.jsxs)(sn.a,{htmlFor:"upload-image",children:[Object(w.jsx)(cn.a,{id:"upload-image",type:"file",name:"upload-image",style:{display:"none"},onChange:g}),Object(w.jsx)(Ie.a,{style:{backgroundColor:"#f50057"},component:"span",children:Object(w.jsx)(ln.a,{style:{color:"#fff"}})})]})})})})]})},dn=["Male","Female","Others"],jn=["Male","Female","Others","All"];var pn=function(){var e=Object(i.e)(),t=me(),n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],f=h[1],x=Object(a.useState)("Male"),O=Object(l.a)(x,2),g=O[0],S=O[1],_=Object(a.useState)("Male"),I=Object(l.a)(_,2),N=I[0],T=I[1],A=Object(a.useState)("All"),U=Object(l.a)(A,2),R=U[0],D=U[1],B=Object(a.useState)("All"),P=Object(l.a)(B,2),F=P[0],z=P[1],W=Object(s.b)(),M=Object(s.c)((function(e){return e.userLogin})).userInfo,H=Object(s.c)((function(e){return e.userDetails})),q=H.loading,G=H.error,Y=H.user,Q=Object(s.c)((function(e){return e.userUpdateDetails})).success;return Object(a.useEffect)((function(){M?Y?Q?(W({type:te}),W(je()),W(pe()),e.push("/profile")):(o(Y.profession?Y.profession:""),f(Y.self_introduction?Y.self_introduction:""),S(Y.gender_identity),T(Y.gender_identity),D(Y.sexual_preference),z(Y.sexual_preference)):W(pe()):e.push("/login")}),[W,e,M,Y,Q]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(Ht,{title:"EDITINGS",backTo:"/profile"}),Object(w.jsx)(u.a,{mt:1,children:Object(w.jsxs)(v.a,{maxWidth:"xs",children:[Object(w.jsx)(j.b,{}),q?Object(w.jsx)(E,{}):G?Object(w.jsx)(y.a,{severity:"error",children:G}):Y&&Object(w.jsxs)(u.a,{textAlign:"center",maxHeight:"100vh",pb:"5rem",style:{overflowY:"scroll",flexWrap:"nowrap"},children:[Object(w.jsx)(un,{}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),W(function(e,t,n,a){return function(){var r=Object(L.a)(k.a.mark((function r(c,s){var o,i,l,u,d;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:Z}),o=s(),i=o.userLogin.userInfo,l={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},r.next=6,C.a.put("/api/users/details/update/",{profession:e,selfIntroduction:t,genderIdentity:n,sexualPreference:a},l);case 6:u=r.sent,d=u.data,c({type:$,payload:d}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0),c({type:ee,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(c,m,g,R))},children:[Object(w.jsx)(p.a,{label:"Profession",value:c,variant:"outlined",autoFocus:!0,fullWidth:!0,margin:"normal",multiline:!0,onChange:function(e){return o(e.target.value)}}),Object(w.jsx)(p.a,{label:"Self Introduction",value:m,variant:"outlined",fullWidth:!0,margin:"normal",multiline:!0,onChange:function(e){return f(e.target.value)}}),Object(w.jsx)(rn.a,{fullWidth:!0,options:dn,value:g,onChange:function(e,t){return S(t)},inputValue:N,onInputChange:function(e,t){return T(t)},renderInput:function(e){return Object(w.jsx)(p.a,Object(an.a)(Object(an.a)({},e),{},{label:"Gender Identity",variant:"outlined",margin:"normal"}))}}),Object(w.jsx)(rn.a,{fullWidth:!0,options:jn,value:R,onChange:function(e,t){return D(t)},inputValue:F,onInputChange:function(e,t){return z(t)},renderInput:function(e){return Object(w.jsx)(p.a,Object(an.a)(Object(an.a)({},e),{},{label:"Sexual Preference",variant:"outlined",margin:"normal"}))}}),Object(w.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,children:"UPDATE"})]})]})]})})]})};var bn=function(){var e=Object(i.e)(),t=me(),n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],f=h[1],x=Object(a.useState)(""),O=Object(l.a)(x,2),S=O[0],E=O[1],_=Object(a.useState)(""),I=Object(l.a)(_,2),N=I[0],T=I[1],A=Object(a.useState)(""),U=Object(l.a)(A,2),D=U[0],P=U[1],z=Object(s.b)(),W=Object(s.c)((function(e){return e.userLogin})).userInfo,M=Object(s.c)((function(e){return e.userUpdateProfile})).success;return Object(a.useEffect)((function(){W?M?(z({type:X}),z(pe()),e.push("/profile")):(o(W.first_name),f(W.email)):e.push("/login")}),[z,e,W,M]),Object(w.jsxs)(u.a,{children:[Object(w.jsx)(Ht,{title:"SETTINGS",backTo:"/profile"}),Object(w.jsxs)(v.a,{className:t.paper,maxWidth:"xs",children:[Object(w.jsx)(j.b,{}),D&&Object(w.jsx)(y.a,{severity:"error",children:D}),Object(w.jsx)(g.a,{component:"h2",variant:"h5",align:"left",display:"block",style:{width:"100%",paddingLeft:"1rem"},children:"ACCOUNT SETTINGS"}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S===N?z(function(e,t,n){return function(){var a=Object(L.a)(k.a.mark((function a(r,c){var s,o,i,l,u;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:J}),s=c(),o=s.userLogin.userInfo,i={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},a.next=6,C.a.put("/api/users/profile/update/",{name:e,email:t,password:n},i);case 6:l=a.sent,u=l.data,r({type:K,payload:u}),r({type:B,payload:u}),localStorage.setItem("userInfo",JSON.stringify(u)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0),r({type:V,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()}(c,m,S)):P("Passwords do not match")},className:t.settingsForm,children:[Object(w.jsx)(p.a,{required:!0,label:"First Name",value:c,variant:"outlined",autoFocus:!0,fullWidth:!0,margin:"normal",onChange:function(e){return o(e.target.value)}}),Object(w.jsx)(p.a,{required:!0,type:"email",label:"Email Address",value:m,variant:"outlined",autoComplete:"email",fullWidth:!0,margin:"normal",onChange:function(e){return f(e.target.value)}}),Object(w.jsx)(p.a,{required:!0,type:"password",label:"Password",value:S,variant:"outlined",autoComplete:"current-password",fullWidth:!0,margin:"normal",onChange:function(e){return E(e.target.value)}}),Object(w.jsx)(p.a,{required:!0,type:"password",label:"Confirm Password",value:N,variant:"outlined",autoComplete:"current-password",fullWidth:!0,margin:"normal",onChange:function(e){return T(e.target.value)}}),Object(w.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,children:"Update"}),Object(w.jsx)(d.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return z((function(e){e({type:F}),e({type:R}),e({type:Q}),e({type:ce}),e({type:le}),e({type:ue}),localStorage.removeItem("userInfo")}))},children:"Logout"})]})]})]})},hn=function(){return Object(w.jsxs)(o.a,{children:[Object(w.jsx)(i.a,{exact:!0,path:"/",component:Oe}),Object(w.jsx)(i.a,{exact:!0,path:"/register",component:fe}),Object(w.jsx)(i.a,{exact:!0,path:"/login",component:Oe}),Object(w.jsx)(i.a,{exact:!0,path:"/recs",component:et}),Object(w.jsx)(i.a,{exact:!0,path:"/gold-home",component:nt}),Object(w.jsx)(i.a,{exact:!0,path:"/matches",component:bt}),Object(w.jsx)(i.a,{exact:!0,path:"/messages/:id",component:Wt}),Object(w.jsx)(i.a,{exact:!0,path:"/messages/:id/profile",component:Gt}),Object(w.jsx)(i.a,{exact:!0,path:"/profile",component:tn}),Object(w.jsx)(i.a,{exact:!0,path:"/profile/preview",component:nn}),Object(w.jsx)(i.a,{exact:!0,path:"/profile/edit",component:pn}),Object(w.jsx)(i.a,{exact:!0,path:"/settings",component:bn})]})},mn=n(48),fn=n(128),xn=n(129),On=Object(mn.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case B:return{loading:!1,userInfo:t.payload};case P:return{loading:!1,error:t.payload};case F:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case W:return{loading:!1,userInfo:t.payload};case M:return{loading:!1,error:t.payload};case H:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case G:return{loading:!1,user:t.payload};case Y:return{loading:!1,error:t.payload};case Q:return{};default:return e}},userUpdateDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case $:return{loading:!1,success:!0,userInfo:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case K:return{loading:!1,success:!0,userInfo:t.payload};case V:return{loading:!1,error:t.payload};case X:return{};default:return e}},cardList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case A:return{loading:!1,cards:t.payload};case U:return{loading:!1,error:t.payload};case R:return{cards:[]};default:return e}},newMatchesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case ae:return{loading:!1,matches:t.payload};case re:return{loading:!1,error:t.payload};case ce:return{};default:return e}},likesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{likes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0};case oe:return{loading:!1,likes:t.payload};case ie:return{loading:!1,error:t.payload};case le:return{likes:[]};default:return e}},isBlocked:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return!0;case de:return!1;default:return e}}}),gn={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},vn=[fn.a],yn=Object(mn.createStore)(On,gn,Object(xn.composeWithDevTools)(mn.applyMiddleware.apply(void 0,vn)));c.a.render(Object(w.jsx)(s.a,{store:yn,children:Object(w.jsx)(hn,{})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.a843342f.chunk.js.map