{"ast":null,"code":"import _slicedToArray from\"/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Link}from\"react-router-dom\";import Container from\"@material-ui/core/Container\";import ScopedCssBaseline from\"@material-ui/core/ScopedCssBaseline\";import Box from\"@material-ui/core/Box\";import Grid from\"@material-ui/core/Grid\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import SettingsIcon from\"@material-ui/icons/Settings\";import CameraAltIcon from\"@material-ui/icons/CameraAlt\";import EditIcon from\"@material-ui/icons/Edit\";import AddIcon from\"@material-ui/icons/Add\";import Avatar from\"@material-ui/core/Avatar\";import Alert from\"@material-ui/lab/Alert\";import{makeStyles}from\"@material-ui/core/styles\";import CommonHeader from\"../components/CommonHeader\";import ProfileButton from\"../components/ProfileScreen/ProfileButton\";import Loader from\"../components/Loader\";import calcAge from\"../functions/calcAge\";import{getUserDetails}from\"../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileScreen(_ref){var history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),age=_useState2[0],setAge=_useState2[1];var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var dispatch=useDispatch();var useStyles=makeStyles(function(theme){return{profilePhoto:{width:theme.spacing(10),height:theme.spacing(10),boxShadow:\"0 1px 4px 1px rgba(223, 224, 223, 0.7)\"}};});var classes=useStyles();useEffect(function(){if(!userInfo){history.push(\"/login\");}else if(!user){dispatch(getUserDetails(userInfo.id));}else{setAge(calcAge(user.birth_date));}},[history,userInfo,user]);return/*#__PURE__*/_jsxs(Box,{component:\"div\",children:[/*#__PURE__*/_jsx(CommonHeader,{profile:true}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}):user&&/*#__PURE__*/_jsx(ScopedCssBaseline,{children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsxs(Box,{component:\"div\",textAlign:\"center\",mt:10,mb:5,children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/preview\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Avatar,{src:user.image,alt:\"Profile Photo\",className:classes.profilePhoto})})}),/*#__PURE__*/_jsxs(Typography,{component:\"h1\",variant:\"h4\",gutterBottom:true,children:[user.first_name,\" \",age]}),/*#__PURE__*/_jsx(Typography,{component:\"span\",variant:\"h6\",children:user.profession})]}),/*#__PURE__*/_jsx(Box,{component:\"div\",textAlign:\"center\",children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(ProfileButton,{to:\"/settings\",title:\"SETTINGS\",children:/*#__PURE__*/_jsx(SettingsIcon,{fontSize:\"large\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(ProfileButton,{to:\"/profile/edit\",className:\"profile__camera-wrapper\",color:\"secondary\",title:\"ADD MEDIA\",children:[/*#__PURE__*/_jsx(CameraAltIcon,{fontSize:\"large\",style:{color:\"#fff\"}}),/*#__PURE__*/_jsx(AddIcon,{fontSize:\"small\",className:\"profile__camera-add\",style:{backgroundColor:\"#fff\",color:\"#f50057\",borderRadius:\"50%\"}})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(ProfileButton,{to:\"/profile/edit\",title:\"EDIT INFO\",children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"large\"})})})]})})]})})]});}export default ProfileScreen;","map":{"version":3,"sources":["/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/src/screens/ProfileScreen.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Link","Container","ScopedCssBaseline","Box","Grid","Typography","IconButton","SettingsIcon","CameraAltIcon","EditIcon","AddIcon","Avatar","Alert","makeStyles","CommonHeader","ProfileButton","Loader","calcAge","getUserDetails","ProfileScreen","history","age","setAge","userLogin","state","userInfo","userDetails","loading","error","user","dispatch","useStyles","theme","profilePhoto","width","spacing","height","boxShadow","classes","push","id","birth_date","image","first_name","profession","color","backgroundColor","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport Container from \"@material-ui/core/Container\";\nimport ScopedCssBaseline from \"@material-ui/core/ScopedCssBaseline\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport CommonHeader from \"../components/CommonHeader\";\nimport ProfileButton from \"../components/ProfileScreen/ProfileButton\";\nimport Loader from \"../components/Loader\";\n\nimport calcAge from \"../functions/calcAge\";\n\nimport { getUserDetails } from \"../actions/userActions\";\n\nfunction ProfileScreen({ history }) {\n  const [age, setAge] = useState(\"\");\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { loading, error, user } = userDetails;\n\n  const dispatch = useDispatch();\n\n  const useStyles = makeStyles((theme) => ({\n    profilePhoto: {\n      width: theme.spacing(10),\n      height: theme.spacing(10),\n      boxShadow: \"0 1px 4px 1px rgba(223, 224, 223, 0.7)\",\n    },\n  }));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\");\n    } else if (!user) {\n      dispatch(getUserDetails(userInfo.id));\n    } else {\n      setAge(calcAge(user.birth_date));\n    }\n  }, [history, userInfo, user]);\n\n  return (\n    <Box component=\"div\">\n      <CommonHeader profile />\n\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Alert severity=\"error\">{error}</Alert>\n      ) : (\n        user && (\n          <ScopedCssBaseline>\n            <Container maxWidth=\"sm\">\n              <Box component=\"div\" textAlign=\"center\" mt={10} mb={5}>\n                <Link to=\"/profile/preview\">\n                  <IconButton>\n                    <Avatar\n                      src={user.image}\n                      alt=\"Profile Photo\"\n                      className={classes.profilePhoto}\n                    />\n                  </IconButton>\n                </Link>\n                <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n                  {user.first_name} {age}\n                </Typography>\n                <Typography component=\"span\" variant=\"h6\">\n                  {user.profession}\n                </Typography>\n              </Box>\n\n              <Box component=\"div\" textAlign=\"center\">\n                <Grid container alignItems=\"center\">\n                  <Grid item xs={4}>\n                    <ProfileButton to=\"/settings\" title=\"SETTINGS\">\n                      <SettingsIcon fontSize=\"large\" />\n                    </ProfileButton>\n                  </Grid>\n\n                  <Grid item xs={4}>\n                    <ProfileButton\n                      to=\"/profile/edit\"\n                      className=\"profile__camera-wrapper\"\n                      color=\"secondary\"\n                      title=\"ADD MEDIA\"\n                    >\n                      <CameraAltIcon\n                        fontSize=\"large\"\n                        style={{\n                          color: \"#fff\",\n                        }}\n                      />\n                      <AddIcon\n                        fontSize=\"small\"\n                        className=\"profile__camera-add\"\n                        style={{\n                          backgroundColor: \"#fff\",\n                          color: \"#f50057\",\n                          borderRadius: \"50%\",\n                        }}\n                      />\n                    </ProfileButton>\n                  </Grid>\n\n                  <Grid item xs={4}>\n                    <ProfileButton to=\"/profile/edit\" title=\"EDIT INFO\">\n                      <EditIcon fontSize=\"large\" />\n                    </ProfileButton>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Container>\n          </ScopedCssBaseline>\n        )\n      )}\n    </Box>\n  );\n}\n\nexport default ProfileScreen;\n"]},"metadata":{},"sourceType":"module"}