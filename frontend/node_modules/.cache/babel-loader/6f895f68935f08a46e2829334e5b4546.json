{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import axios from\"axios\";import Box from\"@material-ui/core/Box\";import InputBase from\"@material-ui/core/InputBase\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import AttachmentIcon from\"@material-ui/icons/Attachment\";import EmojiEmotionsIcon from\"@material-ui/icons/EmojiEmotions\";import GifIcon from\"@material-ui/icons/Gif\";import MusicNoteIcon from\"@material-ui/icons/MusicNote\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MessageFooter(_ref){var chatUserId=_ref.chatUserId,setMessages=_ref.setMessages;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var config={headers:{\"content-type\":\"application/json\",Authorization:\"Bearer \".concat(userInfo.token)}};var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"/api/messages/send/\",{fromUserId:userInfo.id,toUserId:chatUserId,text:text},config);case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setMessages(data);setText(\"\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Box,{className:\"message-footer\",children:/*#__PURE__*/_jsxs(Box,{width:\"100%\",children:[/*#__PURE__*/_jsx(Box,{borderTop:\"1px solid #dddddd\",borderBottom:\"1px solid #dddddd\",padding:\"1rem\",width:\"100%\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,style:{width:\"100%\",paddingLeft:\"4px\",paddingRight:\"4px\"},children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",width:\"100%\",maxHeight:\"10rem\",children:[/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"flex-start\",width:\"100%\",children:/*#__PURE__*/_jsx(InputBase,{fullWidth:true,multiline:true,rowsMax:6,value:text,placeholder:\"Type a message\",onChange:function onChange(e){return setText(e.target.value);},style:{fontSize:\"1.5rem\"}})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",disabled:!text||!text.match(/\\S/g)?true:false,children:/*#__PURE__*/_jsx(Typography,{component:\"span\",variant:\"h5\",children:\"SEND\"})})})]})})}),/*#__PURE__*/_jsx(Box,{width:\"100%\",children:/*#__PURE__*/_jsxs(Box,{width:\"100%\",padding:\"1rem\",children:[/*#__PURE__*/_jsx(IconButton,{className:\"btn-box-shadow\",children:/*#__PURE__*/_jsx(AttachmentIcon,{fontSize:\"large\",color:\"primary\"})}),/*#__PURE__*/_jsx(IconButton,{className:\"btn-box-shadow\",children:/*#__PURE__*/_jsx(EmojiEmotionsIcon,{fontSize:\"large\",style:{color:\"#ffcc29\"}})}),/*#__PURE__*/_jsx(IconButton,{className:\"btn-box-shadow\",children:/*#__PURE__*/_jsx(GifIcon,{fontSize:\"large\",color:\"primary\"})}),/*#__PURE__*/_jsx(IconButton,{className:\"btn-box-shadow\",children:/*#__PURE__*/_jsx(MusicNoteIcon,{fontSize:\"large\",style:{color:\"#2ec1ac\"}})})]})})]})});}export default MessageFooter;","map":{"version":3,"sources":["/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/src/components/MessageScreen/MessageFooter.jsx"],"names":["React","useState","useSelector","axios","Box","InputBase","Button","Typography","IconButton","AttachmentIcon","EmojiEmotionsIcon","GifIcon","MusicNoteIcon","MessageFooter","chatUserId","setMessages","text","setText","userLogin","state","userInfo","config","headers","Authorization","token","submitHandler","e","preventDefault","post","fromUserId","id","toUserId","data","width","paddingLeft","paddingRight","target","value","fontSize","match","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport Box from \"@material-ui/core/Box\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AttachmentIcon from \"@material-ui/icons/Attachment\";\nimport EmojiEmotionsIcon from \"@material-ui/icons/EmojiEmotions\";\nimport GifIcon from \"@material-ui/icons/Gif\";\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\n\nfunction MessageFooter({ chatUserId, setMessages }) {\n  const [text, setText] = useState(\"\");\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const config = {\n    headers: {\n      \"content-type\": \"application/json\",\n      Authorization: `Bearer ${userInfo.token}`,\n    },\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    const { data } = await axios.post(\n      `/api/messages/send/`,\n      {\n        fromUserId: userInfo.id,\n        toUserId: chatUserId,\n        text: text,\n      },\n      config\n    );\n\n    setMessages(data);\n    setText(\"\");\n  };\n\n  return (\n    <Box className=\"message-footer\">\n      <Box width=\"100%\">\n        <Box\n          borderTop=\"1px solid #dddddd\"\n          borderBottom=\"1px solid #dddddd\"\n          padding=\"1rem\"\n          width=\"100%\"\n        >\n          <form\n            onSubmit={submitHandler}\n            style={{ width: \"100%\", paddingLeft: \"4px\", paddingRight: \"4px\" }}\n          >\n            <Box display=\"flex\" width=\"100%\" maxHeight=\"10rem\">\n              <Box display=\"flex\" justifyContent=\"flex-start\" width=\"100%\">\n                <InputBase\n                  fullWidth\n                  multiline\n                  rowsMax={6}\n                  value={text}\n                  placeholder=\"Type a message\"\n                  onChange={(e) => setText(e.target.value)}\n                  style={{ fontSize: \"1.5rem\" }}\n                />\n              </Box>\n\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={!text || !text.match(/\\S/g) ? true : false}\n                >\n                  <Typography component=\"span\" variant=\"h5\">\n                    SEND\n                  </Typography>\n                </Button>\n              </Box>\n            </Box>\n          </form>\n        </Box>\n\n        <Box width=\"100%\">\n          <Box width=\"100%\" padding=\"1rem\">\n            <IconButton className=\"btn-box-shadow\">\n              <AttachmentIcon fontSize=\"large\" color=\"primary\" />\n            </IconButton>\n            <IconButton className=\"btn-box-shadow\">\n              <EmojiEmotionsIcon\n                fontSize=\"large\"\n                style={{ color: \"#ffcc29\" }}\n              />\n            </IconButton>\n            <IconButton className=\"btn-box-shadow\">\n              <GifIcon fontSize=\"large\" color=\"primary\" />\n            </IconButton>\n            <IconButton className=\"btn-box-shadow\">\n              <MusicNoteIcon fontSize=\"large\" style={{ color: \"#2ec1ac\" }} />\n            </IconButton>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default MessageFooter;\n"]},"metadata":{},"sourceType":"module"}