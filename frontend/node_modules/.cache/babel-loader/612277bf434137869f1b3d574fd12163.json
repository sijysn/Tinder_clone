{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import Box from\"@material-ui/core/Box\";import Typography from\"@material-ui/core/Typography\";import Avatar from\"@material-ui/core/Avatar\";import Alert from\"@material-ui/lab/Alert\";import{makeStyles}from\"@material-ui/core/styles\";import NewMatch from\"./NewMatch\";import Loader from\"../Loader\";import{getNewMatchesList,getLikesList}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{iconLarge:{width:theme.spacing(9),height:theme.spacing(9)},tinderGoldIconBack:{width:theme.spacing(10),height:theme.spacing(10),borderRadius:\"50%\",backgroundColor:\"#e4c478\"},newMatches:{display:\"flex\",overflowX:\"auto\"}};});function NewMatches(_ref){var history=_ref.history;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var likesList=useSelector(function(state){return state.likesList;});var likes=likesList.likes;var newMatchesList=useSelector(function(state){return state.newMatchesList;});var loading=newMatchesList.loading,error=newMatchesList.error,matches=newMatchesList.matches;var dispatch=useDispatch();useEffect(function(){if(!userInfo){history.push(\"/login\");}else{dispatch(getLikesList());dispatch(getNewMatchesList());}},[dispatch,history,userInfo]);var classes=useStyles();return/*#__PURE__*/_jsx(Box,{className:classes.newMatches,children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}):/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"row\",children:[likes&&likes.length>0&&/*#__PURE__*/_jsx(Link,{to:\"/gold-home\",children:/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",mx:1,children:[/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",className:\"\".concat(classes.tinderGoldIconBack,\" tinder-gold\"),children:/*#__PURE__*/_jsx(Avatar,{src:likes[0].image,alt:\"new match\",className:classes.iconLarge})}),/*#__PURE__*/_jsx(Typography,{component:\"span\",variant:\"h5\",children:likes.length===1?\"\".concat(likes.length,\" Like\"):likes.length>1&&\"\".concat(likes.length,\" Likes\")})]})}),matches&&matches.length>0&&matches.map(function(person){return/*#__PURE__*/_jsx(Link,{to:\"/messages/\".concat(person.id),children:/*#__PURE__*/_jsx(NewMatch,{person:person})},person.id);})]})});}export default NewMatches;","map":{"version":3,"sources":["/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/src/components/MatchesScreen/NewMatches.jsx"],"names":["React","useEffect","Link","useSelector","useDispatch","Box","Typography","Avatar","Alert","makeStyles","NewMatch","Loader","getNewMatchesList","getLikesList","useStyles","theme","iconLarge","width","spacing","height","tinderGoldIconBack","borderRadius","backgroundColor","newMatches","display","overflowX","NewMatches","history","userLogin","state","userInfo","likesList","likes","newMatchesList","loading","error","matches","dispatch","push","classes","length","image","map","person","id"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport NewMatch from \"./NewMatch\";\nimport Loader from \"../Loader\";\n\nimport { getNewMatchesList, getLikesList } from \"../../actions/userActions\";\n\nconst useStyles = makeStyles((theme) => ({\n  iconLarge: {\n    width: theme.spacing(9),\n    height: theme.spacing(9),\n  },\n\n  tinderGoldIconBack: {\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    borderRadius: \"50%\",\n    backgroundColor: \"#e4c478\",\n  },\n\n  newMatches: {\n    display: \"flex\",\n    overflowX: \"auto\",\n  },\n}));\n\nfunction NewMatches({ history }) {\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const likesList = useSelector((state) => state.likesList);\n  const { likes } = likesList;\n\n  const newMatchesList = useSelector((state) => state.newMatchesList);\n  const { loading, error, matches } = newMatchesList;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\");\n    } else {\n      dispatch(getLikesList());\n      dispatch(getNewMatchesList());\n    }\n  }, [dispatch, history, userInfo]);\n\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.newMatches}>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Alert severity=\"error\">{error}</Alert>\n      ) : (\n        <Box display=\"flex\" flexDirection=\"row\">\n          {likes && likes.length > 0 && (\n            <Link to={`/gold-home`}>\n              <Box textAlign=\"center\" mx={1}>\n                <Box\n                  display=\"flex\"\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  className={`${classes.tinderGoldIconBack} tinder-gold`}\n                >\n                  <Avatar\n                    src={likes[0].image}\n                    alt=\"new match\"\n                    className={classes.iconLarge}\n                  />\n                </Box>\n                <Typography component=\"span\" variant=\"h5\">\n                  {likes.length === 1\n                    ? `${likes.length} Like`\n                    : likes.length > 1 && `${likes.length} Likes`}\n                </Typography>\n              </Box>\n            </Link>\n          )}\n\n          {matches &&\n            matches.length > 0 &&\n            matches.map((person) => (\n              <Link to={`/messages/${person.id}`} key={person.id}>\n                <NewMatch person={person} />\n              </Link>\n            ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nexport default NewMatches;\n"]},"metadata":{},"sourceType":"module"}