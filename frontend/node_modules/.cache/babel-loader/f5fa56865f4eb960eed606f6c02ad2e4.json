{"ast":null,"code":"import _slicedToArray from\"/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";import CssBaseline from\"@material-ui/core/CssBaseline\";import TextField from\"@material-ui/core/TextField\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Checkbox from\"@material-ui/core/Checkbox\";import Grid from\"@material-ui/core/Grid\";import Typography from\"@material-ui/core/Typography\";import Container from\"@material-ui/core/Container\";import Alert from\"@material-ui/lab/Alert\";import Loader from\"../components/Loader\";import{login}from\"../actions/userActions\";import{useStyles}from\"../styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginScreen(_ref){var location=_ref.location,history=_ref.history;var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var redirect=location.search?location.search.split(\"=\")[1]:\"/recs\";var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,error=userLogin.error,userInfo=userLogin.userInfo;var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);return/*#__PURE__*/_jsxs(Container,{component:\"div\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.worldvectorlogo.com/logos/tinder-2.svg\",style:{height:\"30px\",width:\"30px\"}}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),loading&&/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Loader,{mt:10})}),error&&/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.loginForm,noValidate:true,onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,label:\"Email Address\",type:\"email\",value:email,autoComplete:\"email\",autoFocus:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,label:\"Password\",type:\"password\",value:password,autoComplete:\"current-password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{value:\"remember\",color:\"primary\"}),label:\"Remember me\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{to:redirect?\"/register?redirect=\".concat(redirect):\"/register\",children:\"Don't have an account? Sign Up\"})})})]})]})]});}","map":{"version":3,"sources":["/Users/yoshinoseiji/Programming/Tinder_clone/backend/frontend/src/screens/LoginScreen.jsx"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","Box","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Grid","Typography","Container","Alert","Loader","login","useStyles","LoginScreen","location","history","classes","email","setEmail","password","setPassword","dispatch","redirect","search","split","userLogin","state","loading","error","userInfo","submitHandler","e","preventDefault","push","paper","height","width","loginForm","target","value","submit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport Loader from \"../components/Loader\";\n\nimport { login } from \"../actions/userActions\";\n\nimport { useStyles } from \"../styles\";\n\nexport default function LoginScreen({ location, history }) {\n  const classes = useStyles();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/recs\";\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { loading, error, userInfo } = userLogin;\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  return (\n    <Container component=\"div\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <img\n          src=\"https://cdn.worldvectorlogo.com/logos/tinder-2.svg\"\n          style={{\n            height: \"30px\",\n            width: \"30px\",\n          }}\n        />\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n\n        {loading && (\n          <Box mt={2}>\n            <Loader mt={10} />\n          </Box>\n        )}\n        {error && (\n          <Box mt={2}>\n            <Alert severity=\"error\">{error}</Alert>\n          </Box>\n        )}\n\n        <form className={classes.loginForm} noValidate onSubmit={submitHandler}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            label=\"Email Address\"\n            type=\"email\"\n            value={email}\n            autoComplete=\"email\"\n            autoFocus\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            label=\"Password\"\n            type=\"password\"\n            value={password}\n            autoComplete=\"current-password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n\n          <Grid container>\n            <Grid item>\n              <Link\n                to={redirect ? `/register?redirect=${redirect}` : \"/register\"}\n              >\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}